precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
edad_ranking <- df_completo %>%
group_by(Age) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
posicion_ranking <- df_completo %>%
group_by(Position) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
jugadores <- "./datos/database.csv"
df_jugadores <- read_csv(jugadores)
df_jugadores <- df_jugadores %>%
mutate(Age = as.numeric(str_extract(Age, "^[0-9]+")))%>%
filter(str_detect(Position, "LW"))%>%
filter(Age==33)%>%
slice(-3)  #me aparecía un jugador repetido y por eso lo elimino
james <- image_read("./imagenes/james.jpeg") %>% image_scale(.,"700")
peña <- image_read("./imagenes/peñ.jpeg") %>% image_scale(.,"700")
equipos <- c(james, peña)
image_animate(image_scale(equipos), fps = 0,25)
library(tidyverse)
library(magick)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
liga_ranking <- df_completo %>%
mutate(League_from = str_replace(League_from,
"Rel. Ligue 1", "Ligue 1")) %>%
group_by(League_from) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
edad_ranking <- df_completo %>%
group_by(Age) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
posicion_ranking <- df_completo %>%
group_by(Position) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
jugadores <- "./datos/database.csv"
df_jugadores <- read_csv(jugadores)
df_jugadores <- df_jugadores %>%
mutate(Age = as.numeric(str_extract(Age, "^[0-9]+")))%>%
filter(str_detect(Position, "LW"))%>%
filter(Age==33)%>%
slice(-3)  #me aparecía un jugador repetido y por eso lo elimino
james <- image_read("./imagenes/james.jpeg") %>% image_scale(.,"700")
peña <- image_read("./imagenes/peñ.jpeg") %>% image_scale(.,"700")
equipos <- c(james, peña)
image_animate(image_scale(equipos), fps = 2)
library(tidyverse)
library(magick)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
liga_ranking <- df_completo %>%
mutate(League_from = str_replace(League_from,
"Rel. Ligue 1", "Ligue 1")) %>%
group_by(League_from) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
edad_ranking <- df_completo %>%
group_by(Age) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
posicion_ranking <- df_completo %>%
group_by(Position) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
jugadores <- "./datos/database.csv"
df_jugadores <- read_csv(jugadores)
df_jugadores <- df_jugadores %>%
mutate(Age = as.numeric(str_extract(Age, "^[0-9]+")))%>%
filter(str_detect(Position, "LW"))%>%
filter(Age==33)%>%
slice(-3)  #me aparecía un jugador repetido y por eso lo elimino
james <- image_read("./imagenes/james.jpeg") %>% image_scale(.,"700")
peña <- image_read("./imagenes/peñ.jpeg") %>% image_scale(.,"700")
equipos <- c(james, peña)
image_animate(image_scale(equipos), fps = 0,8)
library(tidyverse)
library(magick)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
liga_ranking <- df_completo %>%
mutate(League_from = str_replace(League_from,
"Rel. Ligue 1", "Ligue 1")) %>%
group_by(League_from) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
edad_ranking <- df_completo %>%
group_by(Age) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
posicion_ranking <- df_completo %>%
group_by(Position) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
jugadores <- "./datos/database.csv"
df_jugadores <- read_csv(jugadores)
df_jugadores <- df_jugadores %>%
mutate(Age = as.numeric(str_extract(Age, "^[0-9]+")))%>%
filter(str_detect(Position, "LW"))%>%
filter(Age==33)%>%
slice(-3)  #me aparecía un jugador repetido y por eso lo elimino
james <- image_read("./imagenes/james.jpeg") %>% image_scale(.,"700")
peña <- image_read("./imagenes/peñ.jpeg") %>% image_scale(.,"700")
equipos <- c(james, peña)
image_animate(image_scale(equipos), fps = 0,5)
library(tidyverse)
library(magick)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
liga_ranking <- df_completo %>%
mutate(League_from = str_replace(League_from,
"Rel. Ligue 1", "Ligue 1")) %>%
group_by(League_from) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
edad_ranking <- df_completo %>%
group_by(Age) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
posicion_ranking <- df_completo %>%
group_by(Position) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
jugadores <- "./datos/database.csv"
df_jugadores <- read_csv(jugadores)
df_jugadores <- df_jugadores %>%
mutate(Age = as.numeric(str_extract(Age, "^[0-9]+")))%>%
filter(str_detect(Position, "LW"))%>%
filter(Age==33)%>%
slice(-3)  #me aparecía un jugador repetido y por eso lo elimino
james <- image_read("./imagenes/james.jpeg") %>% image_scale(.,"700")
peña <- image_read("./imagenes/peñ.jpeg") %>% image_scale(.,"700")
equipos <- c(james, peña)
image_animate(image_scale(equipos), fps = 0.25)
library(tidyverse)
library(magick)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
liga_ranking <- df_completo %>%
mutate(League_from = str_replace(League_from,
"Rel. Ligue 1", "Ligue 1")) %>%
group_by(League_from) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
edad_ranking <- df_completo %>%
group_by(Age) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
posicion_ranking <- df_completo %>%
group_by(Position) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
jugadores <- "./datos/database.csv"
df_jugadores <- read_csv(jugadores)
df_jugadores <- df_jugadores %>%
mutate(Age = as.numeric(str_extract(Age, "^[0-9]+")))%>%
filter(str_detect(Position, "LW"))%>%
filter(Age==33)%>%
slice(-3)  #me aparecía un jugador repetido y por eso lo elimino
james <- image_read("./imagenes/james.jpeg") %>% image_scale(.,"700")
peña <- image_read("./imagenes/peñ.jpeg") %>% image_scale(.,"700")
equipos <- c(james, peña)
image_animate(image_scale(equipos), fps = 0.35)
library(tidyverse)
library(magick)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
liga_ranking <- df_completo %>%
mutate(League_from = str_replace(League_from,
"Rel. Ligue 1", "Ligue 1")) %>%
group_by(League_from) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
edad_ranking <- df_completo %>%
group_by(Age) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
posicion_ranking <- df_completo %>%
group_by(Position) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
arrange(desc(precio_medio))
jugadores <- "./datos/database.csv"
df_jugadores <- read_csv(jugadores)
df_jugadores <- df_jugadores %>%
mutate(Age = as.numeric(str_extract(Age, "^[0-9]+")))%>%
filter(str_detect(Position, "LW"))%>%
filter(Age==33)%>%
slice(-3)  #me aparecía un jugador repetido y por eso lo elimino
james <- image_read("./imagenes/james.jpeg") %>% image_scale(.,"700")
peña <- image_read("./imagenes/peñ.jpeg") %>% image_scale(.,"700")
equipos <- c(james, peña)
image_animate(image_scale(equipos), fps = 0.25)
library(tidyverse)
library(ggimage)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
View(df_completo)
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee)
View(top_5_equipos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(team_to)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE),
View(top_5_equipos)
View(top_5_equipos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE)
View(top_5_equipos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE))
View(top_5_equipos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE))%>%
head(5)
View(top_5_equipos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE))%>%
View(df_completo)
View(df_completo)
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE))
View(top_5_equipos)
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE))
arrange(desc(gasto_total)) %>%
head(5)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE))%>%
View(top_5_equipos)
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_5_equipos <- df_completo %>%
select(Team_to, Transfer_fee) %>%
group_by(Team_to) %>%
summarise(
gasto_total = sum(Transfer_fee, na.rm = TRUE))
View(top_5_equipos)
top_5_equipos <- df_completo %>%
group_by(Team_to) %>%
summarise(gasto_total = sum(Transfer_fee, na.rm = TRUE)) %>%
slice_max(gasto_total, n = 5)
View(top_5_equipos)
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_5_equipos <- df_completo %>%
group_by(Team_to) %>%
summarise(gasto_total = sum(Transfer_fee, na.rm = TRUE)) %>%
slice_max(gasto_total, n = 5)
hchart(top_5_paises, "pie", hcaes(x = equipo, y = dinero)) %>%
hc_add_theme(hc_theme_economist()) %>%
hc_size(height = 500)
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_5_equipos <- df_completo %>%
group_by(Team_to) %>%
summarise(gasto_total = sum(Transfer_fee, na.rm = TRUE)) %>%
slice_max(gasto_total, n = 5)
hchart(top_5_equipos, "pie", hcaes(x = equipo, y = dinero)) %>%
hc_add_theme(hc_theme_economist()) %>%
hc_size(height = 500)
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_5_equipos <- df_completo %>%
group_by(Team_to) %>%
summarise(gasto_total = sum(Transfer_fee, na.rm = TRUE)) %>%
slice_max(gasto_total, n = 5)
hchart(top_5_equipos, "pie", hcaes(x = Team_to, y = gasto_total)) %>%
hc_add_theme(hc_theme_economist()) %>%
hc_size(height = 500)
library(tidyverse)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top10_x_año <- df_completo %>%
mutate(Transfer_fee = as.numeric(Transfer_fee)) %>%
mutate(Season = parse_number(Season) + 1) %>%
group_by(Season) %>%
slice_max(order_by = Transfer_fee, n = 10, with_ties = FALSE) %>%
ungroup() %>%
select(Season, Transfer_fee)
ev_precio_medio <- top10_x_año %>%
group_by(Season) %>%
summarise(
precio_medio = mean(Transfer_fee, na.rm = TRUE),
n_fichajes = n()
) %>%
ungroup()
grafico_lineal <- ggplot(ev_precio_medio, aes(x = Season, y = precio_medio)) +
geom_line(color = "dodgerblue3", linewidth = 1.2) +
geom_point(color = "dodgerblue3", size = 2) +
scale_x_continuous(breaks = seq(min(ev_precio_medio$Season),max(ev_precio_medio$Season),by = 1)) +
scale_y_continuous(labels = scales::comma, breaks = scales::pretty_breaks(n = 8)) +
labs(title = "Evolución del precio medio de los top 10 fichajes",
subtitle = "2001–2019",
x = "Temporada",
y = "Precio medio (€)") +
theme_minimal() +
theme(plot.title = element_text(face = "bold", size = 14))
grafico_lineal
library(tidyverse)
library(ggimage)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_15_fichajes <- df_completo %>%
select(Name, Season, Transfer_fee) %>%
mutate(Transfer_fee = as.numeric(Transfer_fee)) %>%
arrange(desc(Transfer_fee)) %>%
head(15)
df_caras <- data.frame(Name = c(
"Neymar",
"Kylian Mbappé",
"Philippe Coutinho",
"Cristiano Ronaldo",
"Ousmane Dembélé",
"Paul Pogba",
"Gareth Bale",
"Cristiano Ronaldo",
"Gonzalo Higuaín",
"Neymar",
"Romelu Lukaku",
"Luis Suárez",
"Virgil van Dijk",
"Zinédine Zidane",
"Kevin De Bruyne"
),
Foto = c(
"ney",
"mbappe",
"coutinho",
"elbicho",
"dembele",
"pogba",
"bale",
"elbicho",
"pipita",
"ney",
"lakaka",
"suarez",
"van di",
"zizu",
"debruine"
)
) %>%
mutate(logo = file.path("imagenes", paste0(Foto, ".png")))
top_15_completo <- top_15_fichajes %>%
left_join(df_caras, by = "Name") %>%
arrange(desc(Transfer_fee)) %>%
mutate(
etiqueta = paste0(Name, " (", Season, ") #", row_number()),
logo = file.path("imagenes", paste0(Foto, ".png"))
)
top_15_completo <- top_15_completo[-c(2, 6, 11, 14), ] #borro esas filas maualmente porque no se porque se me duplicaban esos fichajes
mi_grafico <- ggplot(top_15_completo, aes(x = reorder(etiqueta, Transfer_fee), y = Transfer_fee)) +
geom_col(fill = "dodgerblue3", width = 0.6) +
coord_flip() +
geom_image(aes(image = logo, y = 0), size = 0.05) +
geom_text(
aes(label = Season, y = max(Transfer_fee) * 0.02),
hjust = 0,
size = 3,
color = "black"
) +
geom_text(
aes(label = scales::comma(Transfer_fee)),
hjust = -0.2,
fontface = "bold",
size = 3.5) +
scale_y_continuous(labels = scales::comma) +
expand_limits(y = 0) +
labs(
title = "Top 15 Fichajes Mas Caros",
subtitle = "Desde 2000-2018",
x = "Jugadores",
y = "Precio Pagado") +
theme_minimal()+
theme(
plot.title = element_text(face = "bold", size = 14),
axis.text.y = element_blank(),
axis.ticks.y = element_blank(),
plot.margin = margin(10, 20, 10, 20))
mi_grafico
library(tidyverse)
library(highcharter)
datikos <- "./datos/top250-00-19.csv"
df_completo <- read_csv(datikos)
top_5_equipos <- df_completo %>%
group_by(Team_to) %>%
summarise(gasto_total = sum(Transfer_fee, na.rm = TRUE)) %>%
slice_max(gasto_total, n = 5)
hchart(top_5_equipos, "pie", hcaes(x = Team_to, y = gasto_total)) %>%
hc_add_theme(hc_theme_economist()) %>%
hc_size(height = 500)
getwd()
system("quarto --version")
system("quarto --version")
system("quarto render")
system("quarto render")
git init
