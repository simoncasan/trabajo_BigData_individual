<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Simon Casañ (sicaol@alumni.uv.es)">
<meta name="description" content="2001-2019">

<title>Mercado Fichajes Era Dorada del Fútbol – Mercado de Fichajes en la Era Dorada del Fútbol</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./imagenes/my_favicon_uv.jpeg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-b6e6edf6cb1293d7f667c2f39c143ab5.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-7afb657962f382b870f87ccf0e69a1cc.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: white;
      }

      .quarto-title-block .quarto-title-banner {
        color: white;
background: #0e1e5b;
      }
</style>
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>

<script src="site_libs/proj4js-2.3.15/proj4.js"></script>

<link href="site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">

<script src="site_libs/highcharts-9.3.1/highcharts.js"></script>

<script src="site_libs/highcharts-9.3.1/highcharts-3d.js"></script>

<script src="site_libs/highcharts-9.3.1/highcharts-more.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/stock.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/map.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/data.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/exporting.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/drilldown.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/item-series.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/annotations.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/export-data.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/funnel.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/heatmap.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/treemap.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/sankey.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/organization.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/streamgraph.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/sunburst.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/vector.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/wordcloud.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/xrange.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/tilemap.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/venn.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/gantt.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/timeline.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/bullet.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/coloraxis.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/dumbbell.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/lollipop.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/series-label.js"></script>

<script src="site_libs/highcharts-9.3.1/plugins/motion.js"></script>

<script src="site_libs/highcharts-9.3.1/custom/reset.js"></script>

<script src="site_libs/highcharts-9.3.1/modules/boost.js"></script>

<script src="site_libs/highchart-binding-0.9.4/highchart.js"></script>

<link rel="shortcut icon" href="imagenes/uv.jpeg">


<link rel="stylesheet" href="assets/styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./imagenes/uv.jpg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Mercado de Fichajes en la Era Dorada del Fútbol</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="./index.html"> <i class="bi bi-house-door" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./my_trabajo_BigData.html" aria-current="page"> 
<span class="menu-text">Trabajo individual</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/simoncasan"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:<sicaol@alumni.uv.es>"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <div class="quarto-title-block"><div><h1 class="title">Mercado Fichajes Era Dorada del Fútbol</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Código</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Mostrar todo el código</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Ocultar todo el código</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el código fuente</a></li></ul></div></div>
                  <div>
        <div class="description">
          <p>2001-2019</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">trabajo BigData</div>
                <div class="quarto-category">Futbol</div>
                <div class="quarto-category">Mercado</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      <div>
      <div class="quarto-title-meta-heading">Autor/a</div>
      <div class="quarto-title-meta-contents">
               <p>Simon Casañ (sicaol@alumni.uv.es) </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Fecha de publicación</div>
      <div class="quarto-title-meta-contents">
        <p class="date">5 de enero de 2026</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Índicexxxx</h2>
   
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción">INTRODUCCIÓN</a></li>
  <li><a href="#datos" id="toc-datos" class="nav-link" data-scroll-target="#datos">DATOS</a>
  <ul class="collapse">
  <li><a href="#evolucion-precio-medio" id="toc-evolucion-precio-medio" class="nav-link" data-scroll-target="#evolucion-precio-medio">1. EVOLUCION PRECIO MEDIO</a></li>
  <li><a href="#fichajes-más-caros-de-la-historia" id="toc-fichajes-más-caros-de-la-historia" class="nav-link" data-scroll-target="#fichajes-más-caros-de-la-historia">2. FICHAJES MÁS CAROS DE LA HISTORIA</a></li>
  <li><a href="#actualidad" id="toc-actualidad" class="nav-link" data-scroll-target="#actualidad">3. ACTUALIDAD</a></li>
  <li><a href="#paises" id="toc-paises" class="nav-link" data-scroll-target="#paises">4. PAISES</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">5. CONCLUSION</a></li>
  </ul></li>
  </ul>
<div class="quarto-other-links"><h2>Otros Enlaces</h2><ul><li><a href="https://perezp44.github.io/intro-ds-25-26-web/"><i class="bi bi-link-45deg"></i>Web del curso</a></li><li><a href="https://perezp44.github.io/intro-ds-25-26-web/05-trabajos-estudiantes.html"><i class="bi bi-link-45deg"></i>Trabajos de mis compañeros</a></li><li><a href="https://github.com/perezp44/trabajo_BigData_individual"><i class="bi bi-link-45deg"></i>Repo del trabajo</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">





<hr>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">INTRODUCCIÓN</h2>
<p>El mercado de fichajes son unos de los meses más entretenidos del fútbol, en verano y en invierno se abre el mercado de fichajes donde clubes de todo el mundo venden y compran jugadores. Los que mejor mercado realicen consiguen grandes ventajas ya sea futbolisticas como económicas, y es uno de los puntos que marcan la diferencia entre ser o no uno de los mejores equipos del mundo.</p>
<p>A continuación, haré un analisis del mercado de la época dorada del futbol, las dos primeras décadas del siglo, donde se alcanzó el máximo nivel futbolístico jamás visto en un campo. Y veremos cómo ha evolucionado estos años.</p>
</section>
<section id="datos" class="level1">
<h1>DATOS</h1>
<p>Para realizar el trabajo, he sacado los datos de la pagina webb Kaggle, una web la cual contiene millones de datos, y entre ellos, de los mercados año a año. Aquí teneis el <a href="https://www.kaggle.com/" target="_blank">enlace</a></p>
<hr>
<section id="evolucion-precio-medio" class="level2">
<h2 class="anchored" data-anchor-id="evolucion-precio-medio">1. EVOLUCION PRECIO MEDIO</h2>
<p>Durante estos años el precio medio de los fichajes ha ido creciendo. He elegido los 10 fichajes más caros de cada año como representativo del mercado, podemos ver que desde 2012 los precios comienzan a dispararse, hasta llegar al pico en 2018, año del fichaje más caro de la historia, el de Neymar; para posteriormente bajar, debido al covid. Entre el año 2004 y 2018 pasamos de una media de aprox. 20 M a 100M, es decir, el precio de los “cracks” se quintuplica.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a>datikos <span class="ot">&lt;-</span> <span class="st">"./datos/top250-00-19.csv"</span></span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a>df_completo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(datikos)</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a>top10_x_año <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span> </span>
<span id="cb1-9"><a href="#cb1-9"></a>  <span class="fu">mutate</span>(<span class="at">Transfer_fee =</span> <span class="fu">as.numeric</span>(Transfer_fee)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="fu">mutate</span>(<span class="at">Season =</span> <span class="fu">parse_number</span>(Season) <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>  <span class="fu">group_by</span>(Season) <span class="sc">%&gt;%</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> Transfer_fee, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>  <span class="fu">select</span>(Season, Transfer_fee)</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a>ev_precio_medio <span class="ot">&lt;-</span> top10_x_año <span class="sc">%&gt;%</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>  <span class="fu">group_by</span>(Season) <span class="sc">%&gt;%</span></span>
<span id="cb1-18"><a href="#cb1-18"></a>  <span class="fu">summarise</span>(</span>
<span id="cb1-19"><a href="#cb1-19"></a>    <span class="at">precio_medio =</span> <span class="fu">mean</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb1-20"><a href="#cb1-20"></a>    <span class="at">n_fichajes =</span> <span class="fu">n</span>()</span>
<span id="cb1-21"><a href="#cb1-21"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-22"><a href="#cb1-22"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb1-23"><a href="#cb1-23"></a></span>
<span id="cb1-24"><a href="#cb1-24"></a>  </span>
<span id="cb1-25"><a href="#cb1-25"></a>grafico_lineal <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ev_precio_medio, <span class="fu">aes</span>(<span class="at">x =</span> Season, <span class="at">y =</span> precio_medio)) <span class="sc">+</span></span>
<span id="cb1-26"><a href="#cb1-26"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"dodgerblue3"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb1-27"><a href="#cb1-27"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"dodgerblue3"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb1-28"><a href="#cb1-28"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="fu">min</span>(ev_precio_medio<span class="sc">$</span>Season),<span class="fu">max</span>(ev_precio_medio<span class="sc">$</span>Season),<span class="at">by =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb1-29"><a href="#cb1-29"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma, <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">pretty_breaks</span>(<span class="at">n =</span> <span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb1-30"><a href="#cb1-30"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolución del precio medio de los top 10 fichajes"</span>,</span>
<span id="cb1-31"><a href="#cb1-31"></a>    <span class="at">subtitle =</span> <span class="st">"2001–2019"</span>,</span>
<span id="cb1-32"><a href="#cb1-32"></a>    <span class="at">x =</span> <span class="st">"Temporada"</span>,</span>
<span id="cb1-33"><a href="#cb1-33"></a>    <span class="at">y =</span> <span class="st">"Precio medio (€)"</span>) <span class="sc">+</span></span>
<span id="cb1-34"><a href="#cb1-34"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-35"><a href="#cb1-35"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb1-36"><a href="#cb1-36"></a></span>
<span id="cb1-37"><a href="#cb1-37"></a>grafico_lineal</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="fichajes-más-caros-de-la-historia" class="level2">
<h2 class="anchored" data-anchor-id="fichajes-más-caros-de-la-historia">2. FICHAJES MÁS CAROS DE LA HISTORIA</h2>
<p>En estos años se supero la barrera de los 100 M de euros pagados por un jugador por primera vez en la historia, con el fichaje de Gareth Bale por el Real Madrid, y también realizó el fichaje más caro de la historia del fútbol cuando el PSG fichó a Neymar por 222 M, nunca se ha vuelto a ver una cantidad ni siquiera parecida. A parte, en el top podemos ver algunos fichajes muy existosos como el de Cristiano Ronaldo por el Real Madrid en 2009, o algunos otros desastrosos como el de Coutinho al Barça por 125 M</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">library</span>(ggimage)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a>datikos <span class="ot">&lt;-</span> <span class="st">"./datos/top250-00-19.csv"</span></span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>df_completo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(datikos)</span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a></span>
<span id="cb2-9"><a href="#cb2-9"></a>top_15_fichajes <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>  <span class="fu">select</span>(Name, Season, Transfer_fee) <span class="sc">%&gt;%</span> </span>
<span id="cb2-11"><a href="#cb2-11"></a>  <span class="fu">mutate</span>(<span class="at">Transfer_fee =</span> <span class="fu">as.numeric</span>(Transfer_fee)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-12"><a href="#cb2-12"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Transfer_fee)) <span class="sc">%&gt;%</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>  <span class="fu">head</span>(<span class="dv">15</span>)</span>
<span id="cb2-14"><a href="#cb2-14"></a></span>
<span id="cb2-15"><a href="#cb2-15"></a></span>
<span id="cb2-16"><a href="#cb2-16"></a></span>
<span id="cb2-17"><a href="#cb2-17"></a>df_caras <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Name =</span> <span class="fu">c</span>(</span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="st">"Neymar"</span>,</span>
<span id="cb2-19"><a href="#cb2-19"></a>  <span class="st">"Kylian Mbappé"</span>,</span>
<span id="cb2-20"><a href="#cb2-20"></a>  <span class="st">"Philippe Coutinho"</span>,</span>
<span id="cb2-21"><a href="#cb2-21"></a>  <span class="st">"Cristiano Ronaldo"</span>,</span>
<span id="cb2-22"><a href="#cb2-22"></a>  <span class="st">"Ousmane Dembélé"</span>,</span>
<span id="cb2-23"><a href="#cb2-23"></a>  <span class="st">"Paul Pogba"</span>,</span>
<span id="cb2-24"><a href="#cb2-24"></a>  <span class="st">"Gareth Bale"</span>,</span>
<span id="cb2-25"><a href="#cb2-25"></a>  <span class="st">"Cristiano Ronaldo"</span>,</span>
<span id="cb2-26"><a href="#cb2-26"></a>  <span class="st">"Gonzalo Higuaín"</span>,</span>
<span id="cb2-27"><a href="#cb2-27"></a>  <span class="st">"Neymar"</span>,</span>
<span id="cb2-28"><a href="#cb2-28"></a>  <span class="st">"Romelu Lukaku"</span>,</span>
<span id="cb2-29"><a href="#cb2-29"></a>  <span class="st">"Luis Suárez"</span>,</span>
<span id="cb2-30"><a href="#cb2-30"></a>  <span class="st">"Virgil van Dijk"</span>,</span>
<span id="cb2-31"><a href="#cb2-31"></a>  <span class="st">"Zinédine Zidane"</span>,</span>
<span id="cb2-32"><a href="#cb2-32"></a>  <span class="st">"Kevin De Bruyne"</span></span>
<span id="cb2-33"><a href="#cb2-33"></a>),</span>
<span id="cb2-34"><a href="#cb2-34"></a><span class="at">Foto =</span> <span class="fu">c</span>(</span>
<span id="cb2-35"><a href="#cb2-35"></a>  <span class="st">"ney"</span>,</span>
<span id="cb2-36"><a href="#cb2-36"></a>  <span class="st">"mbappe"</span>,</span>
<span id="cb2-37"><a href="#cb2-37"></a>  <span class="st">"coutinho"</span>,</span>
<span id="cb2-38"><a href="#cb2-38"></a>  <span class="st">"elbicho"</span>,</span>
<span id="cb2-39"><a href="#cb2-39"></a>  <span class="st">"dembele"</span>,</span>
<span id="cb2-40"><a href="#cb2-40"></a>  <span class="st">"pogba"</span>,</span>
<span id="cb2-41"><a href="#cb2-41"></a>  <span class="st">"bale"</span>,</span>
<span id="cb2-42"><a href="#cb2-42"></a>  <span class="st">"elbicho"</span>,</span>
<span id="cb2-43"><a href="#cb2-43"></a>  <span class="st">"pipita"</span>,</span>
<span id="cb2-44"><a href="#cb2-44"></a>  <span class="st">"ney"</span>,</span>
<span id="cb2-45"><a href="#cb2-45"></a>  <span class="st">"lakaka"</span>,</span>
<span id="cb2-46"><a href="#cb2-46"></a>  <span class="st">"suarez"</span>,</span>
<span id="cb2-47"><a href="#cb2-47"></a>  <span class="st">"van di"</span>,</span>
<span id="cb2-48"><a href="#cb2-48"></a>  <span class="st">"zizu"</span>,</span>
<span id="cb2-49"><a href="#cb2-49"></a>  <span class="st">"debruine"</span></span>
<span id="cb2-50"><a href="#cb2-50"></a>)</span>
<span id="cb2-51"><a href="#cb2-51"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb2-52"><a href="#cb2-52"></a>  <span class="fu">mutate</span>(<span class="at">logo =</span> <span class="fu">file.path</span>(<span class="st">"imagenes"</span>, <span class="fu">paste0</span>(Foto, <span class="st">".png"</span>)))</span>
<span id="cb2-53"><a href="#cb2-53"></a></span>
<span id="cb2-54"><a href="#cb2-54"></a></span>
<span id="cb2-55"><a href="#cb2-55"></a></span>
<span id="cb2-56"><a href="#cb2-56"></a>top_15_completo <span class="ot">&lt;-</span> top_15_fichajes <span class="sc">%&gt;%</span></span>
<span id="cb2-57"><a href="#cb2-57"></a>  <span class="fu">left_join</span>(df_caras, <span class="at">by =</span> <span class="st">"Name"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-58"><a href="#cb2-58"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Transfer_fee)) <span class="sc">%&gt;%</span></span>
<span id="cb2-59"><a href="#cb2-59"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-60"><a href="#cb2-60"></a>    <span class="at">etiqueta =</span> <span class="fu">paste0</span>(Name, <span class="st">" ("</span>, Season, <span class="st">") #"</span>, <span class="fu">row_number</span>()),</span>
<span id="cb2-61"><a href="#cb2-61"></a>    <span class="at">logo =</span> <span class="fu">file.path</span>(<span class="st">"imagenes"</span>, <span class="fu">paste0</span>(Foto, <span class="st">".png"</span>))</span>
<span id="cb2-62"><a href="#cb2-62"></a>  )</span>
<span id="cb2-63"><a href="#cb2-63"></a></span>
<span id="cb2-64"><a href="#cb2-64"></a>top_15_completo <span class="ot">&lt;-</span> top_15_completo[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">11</span>, <span class="dv">14</span>), ] <span class="co">#borro esas filas maualmente porque no se porque se me duplicaban esos fichajes</span></span>
<span id="cb2-65"><a href="#cb2-65"></a></span>
<span id="cb2-66"><a href="#cb2-66"></a></span>
<span id="cb2-67"><a href="#cb2-67"></a></span>
<span id="cb2-68"><a href="#cb2-68"></a></span>
<span id="cb2-69"><a href="#cb2-69"></a></span>
<span id="cb2-70"><a href="#cb2-70"></a>mi_grafico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(top_15_completo, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(etiqueta, Transfer_fee), <span class="at">y =</span> Transfer_fee)) <span class="sc">+</span></span>
<span id="cb2-71"><a href="#cb2-71"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"dodgerblue3"</span>, <span class="at">width =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb2-72"><a href="#cb2-72"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb2-73"><a href="#cb2-73"></a>  <span class="fu">geom_image</span>(<span class="fu">aes</span>(<span class="at">image =</span> logo, <span class="at">y =</span> <span class="dv">0</span>), <span class="at">size =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb2-74"><a href="#cb2-74"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb2-75"><a href="#cb2-75"></a>    <span class="fu">aes</span>(<span class="at">label =</span> Season, <span class="at">y =</span> <span class="fu">max</span>(Transfer_fee) <span class="sc">*</span> <span class="fl">0.02</span>),</span>
<span id="cb2-76"><a href="#cb2-76"></a>    <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb2-77"><a href="#cb2-77"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb2-78"><a href="#cb2-78"></a>    <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb2-79"><a href="#cb2-79"></a>  ) <span class="sc">+</span></span>
<span id="cb2-80"><a href="#cb2-80"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb2-81"><a href="#cb2-81"></a>    <span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(Transfer_fee)),</span>
<span id="cb2-82"><a href="#cb2-82"></a>    <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>,</span>
<span id="cb2-83"><a href="#cb2-83"></a>    <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb2-84"><a href="#cb2-84"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb2-85"><a href="#cb2-85"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span> </span>
<span id="cb2-86"><a href="#cb2-86"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb2-87"><a href="#cb2-87"></a>  <span class="fu">labs</span>(</span>
<span id="cb2-88"><a href="#cb2-88"></a>    <span class="at">title =</span> <span class="st">"Top 15 Fichajes Mas Caros"</span>,</span>
<span id="cb2-89"><a href="#cb2-89"></a>    <span class="at">subtitle =</span> <span class="st">"Desde 2000-2018"</span>,</span>
<span id="cb2-90"><a href="#cb2-90"></a>    <span class="at">x =</span> <span class="st">"Jugadores"</span>, </span>
<span id="cb2-91"><a href="#cb2-91"></a>    <span class="at">y =</span> <span class="st">"Precio Pagado"</span>) <span class="sc">+</span></span>
<span id="cb2-92"><a href="#cb2-92"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb2-93"><a href="#cb2-93"></a>  <span class="fu">theme</span>(</span>
<span id="cb2-94"><a href="#cb2-94"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb2-95"><a href="#cb2-95"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-96"><a href="#cb2-96"></a>    <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-97"><a href="#cb2-97"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">20</span>))</span>
<span id="cb2-98"><a href="#cb2-98"></a></span>
<span id="cb2-99"><a href="#cb2-99"></a>mi_grafico</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="actualidad" class="level2">
<h2 class="anchored" data-anchor-id="actualidad">3. ACTUALIDAD</h2>
<p>En este caso, he hecho una especie de busqueda para ver que tanto han cambiado, el perfil de los jugadores caros. En las 2 primeras décadas del siglo los jugadores más caros de media fueron, Extremos izquierdos, de la liga española, y de 33 años. Con esas características solo encontramos 2 jugadores en la actualidad, James Rodriguez y Rubén Peña; que pese a no dudar de su calidad, distan mucho de ser los jugadores más caros del mundo como si que lo son: Lamine Yamal, Haaland, Mbappé (el único que aparecía en el top), Bellingam y Vini Jr.&nbsp;En cuanto a las posiciones y la liga no han variado tanto las preferencias de los equipos, donde si se aprecia la diferencia es en la edad de ellos ya que todos tienen alrededor de 20 años.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">library</span>(magick)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a>datikos <span class="ot">&lt;-</span> <span class="st">"./datos/top250-00-19.csv"</span></span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>df_completo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(datikos)</span>
<span id="cb3-8"><a href="#cb3-8"></a></span>
<span id="cb3-9"><a href="#cb3-9"></a>liga_ranking <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>  <span class="fu">mutate</span>(<span class="at">League_from =</span> <span class="fu">str_replace</span>(League_from,</span>
<span id="cb3-11"><a href="#cb3-11"></a>                              <span class="st">"Rel. Ligue 1"</span>, <span class="st">"Ligue 1"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="fu">group_by</span>(League_from) <span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>  <span class="fu">summarise</span>(</span>
<span id="cb3-14"><a href="#cb3-14"></a>    <span class="at">precio_medio =</span> <span class="fu">mean</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-15"><a href="#cb3-15"></a>    <span class="at">n_fichajes =</span> <span class="fu">n</span>()</span>
<span id="cb3-16"><a href="#cb3-16"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(precio_medio))</span>
<span id="cb3-18"><a href="#cb3-18"></a></span>
<span id="cb3-19"><a href="#cb3-19"></a></span>
<span id="cb3-20"><a href="#cb3-20"></a></span>
<span id="cb3-21"><a href="#cb3-21"></a>edad_ranking <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb3-22"><a href="#cb3-22"></a>  <span class="fu">group_by</span>(Age) <span class="sc">%&gt;%</span></span>
<span id="cb3-23"><a href="#cb3-23"></a>  <span class="fu">summarise</span>(</span>
<span id="cb3-24"><a href="#cb3-24"></a>    <span class="at">precio_medio =</span> <span class="fu">mean</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-25"><a href="#cb3-25"></a>    <span class="at">n_fichajes =</span> <span class="fu">n</span>()</span>
<span id="cb3-26"><a href="#cb3-26"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-27"><a href="#cb3-27"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(precio_medio))</span>
<span id="cb3-28"><a href="#cb3-28"></a></span>
<span id="cb3-29"><a href="#cb3-29"></a></span>
<span id="cb3-30"><a href="#cb3-30"></a>posicion_ranking <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb3-31"><a href="#cb3-31"></a>  <span class="fu">group_by</span>(Position) <span class="sc">%&gt;%</span></span>
<span id="cb3-32"><a href="#cb3-32"></a>  <span class="fu">summarise</span>(</span>
<span id="cb3-33"><a href="#cb3-33"></a>    <span class="at">precio_medio =</span> <span class="fu">mean</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-34"><a href="#cb3-34"></a>    <span class="at">n_fichajes =</span> <span class="fu">n</span>()</span>
<span id="cb3-35"><a href="#cb3-35"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-36"><a href="#cb3-36"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(precio_medio))</span>
<span id="cb3-37"><a href="#cb3-37"></a></span>
<span id="cb3-38"><a href="#cb3-38"></a></span>
<span id="cb3-39"><a href="#cb3-39"></a></span>
<span id="cb3-40"><a href="#cb3-40"></a>jugadores <span class="ot">&lt;-</span> <span class="st">"./datos/database.csv"</span></span>
<span id="cb3-41"><a href="#cb3-41"></a></span>
<span id="cb3-42"><a href="#cb3-42"></a>df_jugadores <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(jugadores)</span>
<span id="cb3-43"><a href="#cb3-43"></a></span>
<span id="cb3-44"><a href="#cb3-44"></a>df_jugadores <span class="ot">&lt;-</span> df_jugadores <span class="sc">%&gt;%</span></span>
<span id="cb3-45"><a href="#cb3-45"></a>  <span class="fu">mutate</span>(<span class="at">Age =</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Age, <span class="st">"^[0-9]+"</span>)))<span class="sc">%&gt;%</span></span>
<span id="cb3-46"><a href="#cb3-46"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(Position, <span class="st">"LW"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb3-47"><a href="#cb3-47"></a>  <span class="fu">filter</span>(Age<span class="sc">==</span><span class="dv">33</span>)<span class="sc">%&gt;%</span></span>
<span id="cb3-48"><a href="#cb3-48"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">3</span>)  <span class="co">#me aparecía un jugador repetido y por eso lo elimino</span></span>
<span id="cb3-49"><a href="#cb3-49"></a></span>
<span id="cb3-50"><a href="#cb3-50"></a></span>
<span id="cb3-51"><a href="#cb3-51"></a>james <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/james.jpeg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb3-52"><a href="#cb3-52"></a>peña <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/peñ.jpeg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb3-53"><a href="#cb3-53"></a></span>
<span id="cb3-54"><a href="#cb3-54"></a>equipos <span class="ot">&lt;-</span> <span class="fu">c</span>(james, peña)</span>
<span id="cb3-55"><a href="#cb3-55"></a><span class="fu">image_animate</span>(<span class="fu">image_scale</span>(equipos), <span class="at">fps =</span> <span class="fl">0.25</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-3-1.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-3-1.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="paises" class="level2">
<h2 class="anchored" data-anchor-id="paises">4. PAISES</h2>
<p>Por último, podemos ver que el Chelsea ha sido el equipo que más ha gastado, seguido del City, Real Madrid, FC Barcelona y Manchester United. Todos ellos equipos Ingleses y Españoles. Si hiceramos este estudio en los últimos 5 años probablemente viesemos desaparecer los equipos españoles y aparecer varios equipos de Oriente Medio.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">library</span>(highcharter)  </span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a>datikos <span class="ot">&lt;-</span> <span class="st">"./datos/top250-00-19.csv"</span></span>
<span id="cb4-5"><a href="#cb4-5"></a></span>
<span id="cb4-6"><a href="#cb4-6"></a>df_completo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(datikos)</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a>top_5_equipos <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9"></a>  <span class="fu">group_by</span>(Team_to) <span class="sc">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  <span class="fu">summarise</span>(<span class="at">gasto_total =</span> <span class="fu">sum</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>  <span class="fu">slice_max</span>(gasto_total, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a></span>
<span id="cb4-14"><a href="#cb4-14"></a></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="fu">hchart</span>(top_5_equipos, <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Team_to, <span class="at">y =</span> gasto_total)) <span class="sc">%&gt;%</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_economist</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb4-17"><a href="#cb4-17"></a>  <span class="fu">hc_size</span>(<span class="at">height =</span> <span class="dv">500</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-098b8989749c88d37fd0" style="width:95%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-098b8989749c88d37fd0">{"x":{"hc_opts":{"chart":{"reflow":true,"height":500},"title":{"text":null},"yAxis":{"title":{"text":"gasto_total"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"Team_to":"Chelsea","gasto_total":1820650000,"y":1820650000,"name":"Chelsea"},{"Team_to":"Man City","gasto_total":1800520000,"y":1800520000,"name":"Man City"},{"Team_to":"Real Madrid","gasto_total":1680650000,"y":1680650000,"name":"Real Madrid"},{"Team_to":"FC Barcelona","gasto_total":1673040000,"y":1673040000,"name":"FC Barcelona"},{"Team_to":"Man Utd","gasto_total":1497360000,"y":1497360000,"name":"Man Utd"}],"type":"pie"}],"xAxis":{"type":"category","title":{"text":"Team_to"},"categories":null}},"theme":{"colors":["#6794a7","#014d64","#76c0c1","#01a2d9","#7ad2f6","#00887d","#adadad","#7bd3f6","#7c260b","#ee8f71","#76c0c1","#a18376"],"chart":{"backgroundColor":"#d5e4eb","style":{"fontFamily":"Droid Sans","color":"#3C3C3C"}},"title":{"align":"left","style":{"fontWeight":"bold"}},"subtitle":{"align":"left"},"yAxis":{"gridLineColor":"#FFFFFF","lineColor":"#FFFFFF","minorGridLineColor":"#FFFFFF","tickColor":"#D7D7D8","tickWidth":1,"title":{"style":{"color":"#A0A0A3"}}},"tooltip":{"backgroundColor":"#FFFFFF","borderColor":"#76c0c1","style":{"color":"#000000"}},"legend":{"itemStyle":{"color":"#3C3C3C"},"itemHiddenStyle":{"color":"#606063"}},"credits":{"style":{"color":"#666"}},"labels":{"style":{"color":"#D7D7D8"}},"drilldown":{"activeAxisLabelStyle":{"color":"#F0F0F3"},"activeDataLabelStyle":{"color":"#F0F0F3"}},"navigation":{"buttonOptions":{"symbolStroke":"#DDDDDD","theme":{"fill":"#505053"}}},"legendBackgroundColor":"rgba(0, 0, 0, 0.5)","background2":"#505053","dataLabelsColor":"#B0B0B3","textColor":"#C0C0C0","contrastTextColor":"#F0F0F3","maskColor":"rgba(255,255,255,0.3)"},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Droid+Sans","debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">5. CONCLUSION</h2>
<p>Espero que haya sido de agrado leer este trabajo del mercado de fichajes y os haya ayudado a ver los cambios de tendencia entre el fútbol moderno y el de principios del siglo, aparte de poder haber conocido alguna curiosidad sobre este.</p>


<!-- -->

</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reutilización</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.es">CC BY 4.0</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiado");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiado");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Ejecutar el código</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb5" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">---</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="an">title:</span><span class="co"> "Mercado Fichajes Era Dorada del Fútbol"</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="an">description:</span><span class="co"> |</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">  2001-2019</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="an">author:</span><span class="co">   </span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">  - Simon Casañ (sicaol@alumni.uv.es)</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="an">date:</span><span class="co"> 2026-01-05                           </span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="an">categories:</span><span class="co"> [trabajo BigData, Futbol, Mercado]      </span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="an">image:</span><span class="co"> "./imagenes/edit_mercado.jpeg"</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="an">title-block-banner:</span><span class="co"> "#0e1e5b"</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="an">title-block-banner-color:</span><span class="co"> "white"    </span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="an">toc-depth:</span><span class="co"> 3</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="an">smooth-scroll:</span><span class="co"> true</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">  html:</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">    link-external-newwindow: true</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">    code-fold: true</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co">    code-fold-show: false</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="an">execute:</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="co">  warning: false</span></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="co">  message: false</span></span>
<span id="cb5-22"><a href="#cb5-22"></a></span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="an">code-link:</span><span class="co"> true</span></span>
<span id="cb5-25"><a href="#cb5-25"></a><span class="co">---</span></span>
<span id="cb5-26"><a href="#cb5-26"></a></span>
<span id="cb5-27"><a href="#cb5-27"></a>---</span>
<span id="cb5-28"><a href="#cb5-28"></a></span>
<span id="cb5-29"><a href="#cb5-29"></a></span>
<span id="cb5-30"><a href="#cb5-30"></a><span class="fu">## INTRODUCCIÓN</span></span>
<span id="cb5-31"><a href="#cb5-31"></a></span>
<span id="cb5-32"><a href="#cb5-32"></a>El mercado de fichajes son unos de los meses más entretenidos del fútbol, en verano y en invierno se abre el mercado de fichajes donde clubes de todo el mundo venden y compran jugadores. Los que mejor mercado realicen consiguen grandes ventajas ya sea futbolisticas como económicas, y es uno de los puntos que marcan la diferencia entre ser o no uno de los mejores equipos del mundo.</span>
<span id="cb5-33"><a href="#cb5-33"></a></span>
<span id="cb5-34"><a href="#cb5-34"></a>A continuación, haré un analisis del mercado de la época dorada del futbol, las dos primeras décadas del siglo, donde se alcanzó el máximo nivel futbolístico jamás visto en un campo. Y veremos cómo ha evolucionado estos años.</span>
<span id="cb5-35"><a href="#cb5-35"></a></span>
<span id="cb5-36"><a href="#cb5-36"></a></span>
<span id="cb5-37"><a href="#cb5-37"></a><span class="fu"># DATOS</span></span>
<span id="cb5-38"><a href="#cb5-38"></a></span>
<span id="cb5-39"><a href="#cb5-39"></a>Para realizar el trabajo, he sacado los datos de la pagina webb Kaggle, una web la cual contiene millones de datos, y entre ellos, de los mercados año a año. Aquí teneis el <span class="co">[</span><span class="ot">enlace</span><span class="co">](https://www.kaggle.com/)</span>{target="_blank"}</span>
<span id="cb5-40"><a href="#cb5-40"></a></span>
<span id="cb5-41"><a href="#cb5-41"></a>------------------------------------------------------------------------</span>
<span id="cb5-42"><a href="#cb5-42"></a></span>
<span id="cb5-43"><a href="#cb5-43"></a><span class="fu">## 1. EVOLUCION PRECIO MEDIO</span></span>
<span id="cb5-44"><a href="#cb5-44"></a></span>
<span id="cb5-45"><a href="#cb5-45"></a>Durante estos años el precio medio de los fichajes ha ido creciendo. He elegido los 10 fichajes más caros de cada año como representativo del mercado, podemos ver que desde 2012 los precios comienzan a dispararse, hasta llegar al pico en 2018, año del fichaje más caro de la historia, el de Neymar; para posteriormente bajar, debido al covid. Entre el año 2004 y 2018 pasamos de una media de aprox. 20 M a 100M, es decir, el precio de los "cracks" se quintuplica.</span>
<span id="cb5-46"><a href="#cb5-46"></a></span>
<span id="cb5-47"><a href="#cb5-47"></a></span>
<span id="cb5-50"><a href="#cb5-50"></a><span class="in">```{r}</span></span>
<span id="cb5-51"><a href="#cb5-51"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-52"><a href="#cb5-52"></a></span>
<span id="cb5-53"><a href="#cb5-53"></a></span>
<span id="cb5-54"><a href="#cb5-54"></a>datikos <span class="ot">&lt;-</span> <span class="st">"./datos/top250-00-19.csv"</span></span>
<span id="cb5-55"><a href="#cb5-55"></a></span>
<span id="cb5-56"><a href="#cb5-56"></a>df_completo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(datikos)</span>
<span id="cb5-57"><a href="#cb5-57"></a></span>
<span id="cb5-58"><a href="#cb5-58"></a>top10_x_año <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span> </span>
<span id="cb5-59"><a href="#cb5-59"></a>  <span class="fu">mutate</span>(<span class="at">Transfer_fee =</span> <span class="fu">as.numeric</span>(Transfer_fee)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-60"><a href="#cb5-60"></a>  <span class="fu">mutate</span>(<span class="at">Season =</span> <span class="fu">parse_number</span>(Season) <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-61"><a href="#cb5-61"></a>  <span class="fu">group_by</span>(Season) <span class="sc">%&gt;%</span></span>
<span id="cb5-62"><a href="#cb5-62"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> Transfer_fee, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-63"><a href="#cb5-63"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-64"><a href="#cb5-64"></a>  <span class="fu">select</span>(Season, Transfer_fee)</span>
<span id="cb5-65"><a href="#cb5-65"></a></span>
<span id="cb5-66"><a href="#cb5-66"></a>ev_precio_medio <span class="ot">&lt;-</span> top10_x_año <span class="sc">%&gt;%</span></span>
<span id="cb5-67"><a href="#cb5-67"></a>  <span class="fu">group_by</span>(Season) <span class="sc">%&gt;%</span></span>
<span id="cb5-68"><a href="#cb5-68"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-69"><a href="#cb5-69"></a>    <span class="at">precio_medio =</span> <span class="fu">mean</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-70"><a href="#cb5-70"></a>    <span class="at">n_fichajes =</span> <span class="fu">n</span>()</span>
<span id="cb5-71"><a href="#cb5-71"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-72"><a href="#cb5-72"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb5-73"><a href="#cb5-73"></a></span>
<span id="cb5-74"><a href="#cb5-74"></a>  </span>
<span id="cb5-75"><a href="#cb5-75"></a>grafico_lineal <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ev_precio_medio, <span class="fu">aes</span>(<span class="at">x =</span> Season, <span class="at">y =</span> precio_medio)) <span class="sc">+</span></span>
<span id="cb5-76"><a href="#cb5-76"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"dodgerblue3"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb5-77"><a href="#cb5-77"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"dodgerblue3"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb5-78"><a href="#cb5-78"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="fu">min</span>(ev_precio_medio<span class="sc">$</span>Season),<span class="fu">max</span>(ev_precio_medio<span class="sc">$</span>Season),<span class="at">by =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb5-79"><a href="#cb5-79"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma, <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">pretty_breaks</span>(<span class="at">n =</span> <span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb5-80"><a href="#cb5-80"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolución del precio medio de los top 10 fichajes"</span>,</span>
<span id="cb5-81"><a href="#cb5-81"></a>    <span class="at">subtitle =</span> <span class="st">"2001–2019"</span>,</span>
<span id="cb5-82"><a href="#cb5-82"></a>    <span class="at">x =</span> <span class="st">"Temporada"</span>,</span>
<span id="cb5-83"><a href="#cb5-83"></a>    <span class="at">y =</span> <span class="st">"Precio medio (€)"</span>) <span class="sc">+</span></span>
<span id="cb5-84"><a href="#cb5-84"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-85"><a href="#cb5-85"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb5-86"><a href="#cb5-86"></a></span>
<span id="cb5-87"><a href="#cb5-87"></a>grafico_lineal</span>
<span id="cb5-88"><a href="#cb5-88"></a></span>
<span id="cb5-89"><a href="#cb5-89"></a></span>
<span id="cb5-90"><a href="#cb5-90"></a><span class="in">```</span></span>
<span id="cb5-91"><a href="#cb5-91"></a></span>
<span id="cb5-92"><a href="#cb5-92"></a>------------------------------------------------------------------------</span>
<span id="cb5-93"><a href="#cb5-93"></a></span>
<span id="cb5-94"><a href="#cb5-94"></a></span>
<span id="cb5-95"><a href="#cb5-95"></a><span class="fu">## 2. FICHAJES MÁS CAROS DE LA HISTORIA</span></span>
<span id="cb5-96"><a href="#cb5-96"></a></span>
<span id="cb5-97"><a href="#cb5-97"></a>En estos años se supero la barrera de los 100 M de euros pagados por un jugador por primera vez en la historia, con el fichaje de Gareth Bale por el Real Madrid, y también realizó el fichaje más caro de la historia del fútbol cuando el PSG fichó a Neymar por 222 M, nunca se ha vuelto a ver una cantidad ni siquiera parecida. A parte, en el top podemos ver algunos fichajes muy existosos como el de Cristiano Ronaldo por el Real Madrid en 2009, o algunos otros desastrosos como el de Coutinho al Barça por 125 M</span>
<span id="cb5-98"><a href="#cb5-98"></a></span>
<span id="cb5-99"><a href="#cb5-99"></a></span>
<span id="cb5-100"><a href="#cb5-100"></a></span>
<span id="cb5-103"><a href="#cb5-103"></a><span class="in">```{r}</span></span>
<span id="cb5-104"><a href="#cb5-104"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-105"><a href="#cb5-105"></a><span class="fu">library</span>(ggimage)</span>
<span id="cb5-106"><a href="#cb5-106"></a></span>
<span id="cb5-107"><a href="#cb5-107"></a>datikos <span class="ot">&lt;-</span> <span class="st">"./datos/top250-00-19.csv"</span></span>
<span id="cb5-108"><a href="#cb5-108"></a></span>
<span id="cb5-109"><a href="#cb5-109"></a>df_completo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(datikos)</span>
<span id="cb5-110"><a href="#cb5-110"></a></span>
<span id="cb5-111"><a href="#cb5-111"></a></span>
<span id="cb5-112"><a href="#cb5-112"></a>top_15_fichajes <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb5-113"><a href="#cb5-113"></a>  <span class="fu">select</span>(Name, Season, Transfer_fee) <span class="sc">%&gt;%</span> </span>
<span id="cb5-114"><a href="#cb5-114"></a>  <span class="fu">mutate</span>(<span class="at">Transfer_fee =</span> <span class="fu">as.numeric</span>(Transfer_fee)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-115"><a href="#cb5-115"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Transfer_fee)) <span class="sc">%&gt;%</span></span>
<span id="cb5-116"><a href="#cb5-116"></a>  <span class="fu">head</span>(<span class="dv">15</span>)</span>
<span id="cb5-117"><a href="#cb5-117"></a></span>
<span id="cb5-118"><a href="#cb5-118"></a></span>
<span id="cb5-119"><a href="#cb5-119"></a></span>
<span id="cb5-120"><a href="#cb5-120"></a>df_caras <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Name =</span> <span class="fu">c</span>(</span>
<span id="cb5-121"><a href="#cb5-121"></a>  <span class="st">"Neymar"</span>,</span>
<span id="cb5-122"><a href="#cb5-122"></a>  <span class="st">"Kylian Mbappé"</span>,</span>
<span id="cb5-123"><a href="#cb5-123"></a>  <span class="st">"Philippe Coutinho"</span>,</span>
<span id="cb5-124"><a href="#cb5-124"></a>  <span class="st">"Cristiano Ronaldo"</span>,</span>
<span id="cb5-125"><a href="#cb5-125"></a>  <span class="st">"Ousmane Dembélé"</span>,</span>
<span id="cb5-126"><a href="#cb5-126"></a>  <span class="st">"Paul Pogba"</span>,</span>
<span id="cb5-127"><a href="#cb5-127"></a>  <span class="st">"Gareth Bale"</span>,</span>
<span id="cb5-128"><a href="#cb5-128"></a>  <span class="st">"Cristiano Ronaldo"</span>,</span>
<span id="cb5-129"><a href="#cb5-129"></a>  <span class="st">"Gonzalo Higuaín"</span>,</span>
<span id="cb5-130"><a href="#cb5-130"></a>  <span class="st">"Neymar"</span>,</span>
<span id="cb5-131"><a href="#cb5-131"></a>  <span class="st">"Romelu Lukaku"</span>,</span>
<span id="cb5-132"><a href="#cb5-132"></a>  <span class="st">"Luis Suárez"</span>,</span>
<span id="cb5-133"><a href="#cb5-133"></a>  <span class="st">"Virgil van Dijk"</span>,</span>
<span id="cb5-134"><a href="#cb5-134"></a>  <span class="st">"Zinédine Zidane"</span>,</span>
<span id="cb5-135"><a href="#cb5-135"></a>  <span class="st">"Kevin De Bruyne"</span></span>
<span id="cb5-136"><a href="#cb5-136"></a>),</span>
<span id="cb5-137"><a href="#cb5-137"></a><span class="at">Foto =</span> <span class="fu">c</span>(</span>
<span id="cb5-138"><a href="#cb5-138"></a>  <span class="st">"ney"</span>,</span>
<span id="cb5-139"><a href="#cb5-139"></a>  <span class="st">"mbappe"</span>,</span>
<span id="cb5-140"><a href="#cb5-140"></a>  <span class="st">"coutinho"</span>,</span>
<span id="cb5-141"><a href="#cb5-141"></a>  <span class="st">"elbicho"</span>,</span>
<span id="cb5-142"><a href="#cb5-142"></a>  <span class="st">"dembele"</span>,</span>
<span id="cb5-143"><a href="#cb5-143"></a>  <span class="st">"pogba"</span>,</span>
<span id="cb5-144"><a href="#cb5-144"></a>  <span class="st">"bale"</span>,</span>
<span id="cb5-145"><a href="#cb5-145"></a>  <span class="st">"elbicho"</span>,</span>
<span id="cb5-146"><a href="#cb5-146"></a>  <span class="st">"pipita"</span>,</span>
<span id="cb5-147"><a href="#cb5-147"></a>  <span class="st">"ney"</span>,</span>
<span id="cb5-148"><a href="#cb5-148"></a>  <span class="st">"lakaka"</span>,</span>
<span id="cb5-149"><a href="#cb5-149"></a>  <span class="st">"suarez"</span>,</span>
<span id="cb5-150"><a href="#cb5-150"></a>  <span class="st">"van di"</span>,</span>
<span id="cb5-151"><a href="#cb5-151"></a>  <span class="st">"zizu"</span>,</span>
<span id="cb5-152"><a href="#cb5-152"></a>  <span class="st">"debruine"</span></span>
<span id="cb5-153"><a href="#cb5-153"></a>)</span>
<span id="cb5-154"><a href="#cb5-154"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb5-155"><a href="#cb5-155"></a>  <span class="fu">mutate</span>(<span class="at">logo =</span> <span class="fu">file.path</span>(<span class="st">"imagenes"</span>, <span class="fu">paste0</span>(Foto, <span class="st">".png"</span>)))</span>
<span id="cb5-156"><a href="#cb5-156"></a></span>
<span id="cb5-157"><a href="#cb5-157"></a></span>
<span id="cb5-158"><a href="#cb5-158"></a></span>
<span id="cb5-159"><a href="#cb5-159"></a>top_15_completo <span class="ot">&lt;-</span> top_15_fichajes <span class="sc">%&gt;%</span></span>
<span id="cb5-160"><a href="#cb5-160"></a>  <span class="fu">left_join</span>(df_caras, <span class="at">by =</span> <span class="st">"Name"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-161"><a href="#cb5-161"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Transfer_fee)) <span class="sc">%&gt;%</span></span>
<span id="cb5-162"><a href="#cb5-162"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-163"><a href="#cb5-163"></a>    <span class="at">etiqueta =</span> <span class="fu">paste0</span>(Name, <span class="st">" ("</span>, Season, <span class="st">") #"</span>, <span class="fu">row_number</span>()),</span>
<span id="cb5-164"><a href="#cb5-164"></a>    <span class="at">logo =</span> <span class="fu">file.path</span>(<span class="st">"imagenes"</span>, <span class="fu">paste0</span>(Foto, <span class="st">".png"</span>))</span>
<span id="cb5-165"><a href="#cb5-165"></a>  )</span>
<span id="cb5-166"><a href="#cb5-166"></a></span>
<span id="cb5-167"><a href="#cb5-167"></a>top_15_completo <span class="ot">&lt;-</span> top_15_completo[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">11</span>, <span class="dv">14</span>), ] <span class="co">#borro esas filas maualmente porque no se porque se me duplicaban esos fichajes</span></span>
<span id="cb5-168"><a href="#cb5-168"></a></span>
<span id="cb5-169"><a href="#cb5-169"></a></span>
<span id="cb5-170"><a href="#cb5-170"></a></span>
<span id="cb5-171"><a href="#cb5-171"></a></span>
<span id="cb5-172"><a href="#cb5-172"></a></span>
<span id="cb5-173"><a href="#cb5-173"></a>mi_grafico <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(top_15_completo, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(etiqueta, Transfer_fee), <span class="at">y =</span> Transfer_fee)) <span class="sc">+</span></span>
<span id="cb5-174"><a href="#cb5-174"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"dodgerblue3"</span>, <span class="at">width =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb5-175"><a href="#cb5-175"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb5-176"><a href="#cb5-176"></a>  <span class="fu">geom_image</span>(<span class="fu">aes</span>(<span class="at">image =</span> logo, <span class="at">y =</span> <span class="dv">0</span>), <span class="at">size =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb5-177"><a href="#cb5-177"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb5-178"><a href="#cb5-178"></a>    <span class="fu">aes</span>(<span class="at">label =</span> Season, <span class="at">y =</span> <span class="fu">max</span>(Transfer_fee) <span class="sc">*</span> <span class="fl">0.02</span>),</span>
<span id="cb5-179"><a href="#cb5-179"></a>    <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb5-180"><a href="#cb5-180"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb5-181"><a href="#cb5-181"></a>    <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb5-182"><a href="#cb5-182"></a>  ) <span class="sc">+</span></span>
<span id="cb5-183"><a href="#cb5-183"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb5-184"><a href="#cb5-184"></a>    <span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(Transfer_fee)),</span>
<span id="cb5-185"><a href="#cb5-185"></a>    <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>,</span>
<span id="cb5-186"><a href="#cb5-186"></a>    <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb5-187"><a href="#cb5-187"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb5-188"><a href="#cb5-188"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma) <span class="sc">+</span> </span>
<span id="cb5-189"><a href="#cb5-189"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb5-190"><a href="#cb5-190"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-191"><a href="#cb5-191"></a>    <span class="at">title =</span> <span class="st">"Top 15 Fichajes Mas Caros"</span>,</span>
<span id="cb5-192"><a href="#cb5-192"></a>    <span class="at">subtitle =</span> <span class="st">"Desde 2000-2018"</span>,</span>
<span id="cb5-193"><a href="#cb5-193"></a>    <span class="at">x =</span> <span class="st">"Jugadores"</span>, </span>
<span id="cb5-194"><a href="#cb5-194"></a>    <span class="at">y =</span> <span class="st">"Precio Pagado"</span>) <span class="sc">+</span></span>
<span id="cb5-195"><a href="#cb5-195"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb5-196"><a href="#cb5-196"></a>  <span class="fu">theme</span>(</span>
<span id="cb5-197"><a href="#cb5-197"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb5-198"><a href="#cb5-198"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-199"><a href="#cb5-199"></a>    <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-200"><a href="#cb5-200"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">20</span>))</span>
<span id="cb5-201"><a href="#cb5-201"></a></span>
<span id="cb5-202"><a href="#cb5-202"></a>mi_grafico</span>
<span id="cb5-203"><a href="#cb5-203"></a></span>
<span id="cb5-204"><a href="#cb5-204"></a><span class="in">```</span></span>
<span id="cb5-205"><a href="#cb5-205"></a></span>
<span id="cb5-206"><a href="#cb5-206"></a>------------------------------------------------------------------------</span>
<span id="cb5-207"><a href="#cb5-207"></a></span>
<span id="cb5-208"><a href="#cb5-208"></a><span class="fu">## 3. ACTUALIDAD</span></span>
<span id="cb5-209"><a href="#cb5-209"></a></span>
<span id="cb5-210"><a href="#cb5-210"></a>En este caso, he hecho una especie de busqueda para ver que tanto han cambiado, el perfil de los jugadores caros. En las 2 primeras décadas del siglo los jugadores más caros de media fueron, Extremos izquierdos, de la liga española, y de 33 años. Con esas características solo encontramos 2 jugadores en la actualidad, James Rodriguez y Rubén Peña; que pese a no dudar de su calidad, distan mucho de ser los jugadores más caros del mundo como si que lo son: Lamine Yamal, Haaland, Mbappé (el único que aparecía en el top), Bellingam y Vini Jr. En cuanto a las posiciones y la liga no han variado tanto las preferencias de los equipos, donde si se aprecia la diferencia es en la edad de ellos ya que todos tienen alrededor de 20 años. </span>
<span id="cb5-211"><a href="#cb5-211"></a></span>
<span id="cb5-212"><a href="#cb5-212"></a></span>
<span id="cb5-215"><a href="#cb5-215"></a><span class="in">```{r}</span></span>
<span id="cb5-216"><a href="#cb5-216"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-217"><a href="#cb5-217"></a><span class="fu">library</span>(magick)</span>
<span id="cb5-218"><a href="#cb5-218"></a></span>
<span id="cb5-219"><a href="#cb5-219"></a></span>
<span id="cb5-220"><a href="#cb5-220"></a>datikos <span class="ot">&lt;-</span> <span class="st">"./datos/top250-00-19.csv"</span></span>
<span id="cb5-221"><a href="#cb5-221"></a></span>
<span id="cb5-222"><a href="#cb5-222"></a>df_completo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(datikos)</span>
<span id="cb5-223"><a href="#cb5-223"></a></span>
<span id="cb5-224"><a href="#cb5-224"></a>liga_ranking <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb5-225"><a href="#cb5-225"></a>  <span class="fu">mutate</span>(<span class="at">League_from =</span> <span class="fu">str_replace</span>(League_from,</span>
<span id="cb5-226"><a href="#cb5-226"></a>                              <span class="st">"Rel. Ligue 1"</span>, <span class="st">"Ligue 1"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-227"><a href="#cb5-227"></a>  <span class="fu">group_by</span>(League_from) <span class="sc">%&gt;%</span></span>
<span id="cb5-228"><a href="#cb5-228"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-229"><a href="#cb5-229"></a>    <span class="at">precio_medio =</span> <span class="fu">mean</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-230"><a href="#cb5-230"></a>    <span class="at">n_fichajes =</span> <span class="fu">n</span>()</span>
<span id="cb5-231"><a href="#cb5-231"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-232"><a href="#cb5-232"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(precio_medio))</span>
<span id="cb5-233"><a href="#cb5-233"></a></span>
<span id="cb5-234"><a href="#cb5-234"></a></span>
<span id="cb5-235"><a href="#cb5-235"></a></span>
<span id="cb5-236"><a href="#cb5-236"></a>edad_ranking <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb5-237"><a href="#cb5-237"></a>  <span class="fu">group_by</span>(Age) <span class="sc">%&gt;%</span></span>
<span id="cb5-238"><a href="#cb5-238"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-239"><a href="#cb5-239"></a>    <span class="at">precio_medio =</span> <span class="fu">mean</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-240"><a href="#cb5-240"></a>    <span class="at">n_fichajes =</span> <span class="fu">n</span>()</span>
<span id="cb5-241"><a href="#cb5-241"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-242"><a href="#cb5-242"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(precio_medio))</span>
<span id="cb5-243"><a href="#cb5-243"></a></span>
<span id="cb5-244"><a href="#cb5-244"></a></span>
<span id="cb5-245"><a href="#cb5-245"></a>posicion_ranking <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb5-246"><a href="#cb5-246"></a>  <span class="fu">group_by</span>(Position) <span class="sc">%&gt;%</span></span>
<span id="cb5-247"><a href="#cb5-247"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-248"><a href="#cb5-248"></a>    <span class="at">precio_medio =</span> <span class="fu">mean</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-249"><a href="#cb5-249"></a>    <span class="at">n_fichajes =</span> <span class="fu">n</span>()</span>
<span id="cb5-250"><a href="#cb5-250"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-251"><a href="#cb5-251"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(precio_medio))</span>
<span id="cb5-252"><a href="#cb5-252"></a></span>
<span id="cb5-253"><a href="#cb5-253"></a></span>
<span id="cb5-254"><a href="#cb5-254"></a></span>
<span id="cb5-255"><a href="#cb5-255"></a>jugadores <span class="ot">&lt;-</span> <span class="st">"./datos/database.csv"</span></span>
<span id="cb5-256"><a href="#cb5-256"></a></span>
<span id="cb5-257"><a href="#cb5-257"></a>df_jugadores <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(jugadores)</span>
<span id="cb5-258"><a href="#cb5-258"></a></span>
<span id="cb5-259"><a href="#cb5-259"></a>df_jugadores <span class="ot">&lt;-</span> df_jugadores <span class="sc">%&gt;%</span></span>
<span id="cb5-260"><a href="#cb5-260"></a>  <span class="fu">mutate</span>(<span class="at">Age =</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Age, <span class="st">"^[0-9]+"</span>)))<span class="sc">%&gt;%</span></span>
<span id="cb5-261"><a href="#cb5-261"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(Position, <span class="st">"LW"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb5-262"><a href="#cb5-262"></a>  <span class="fu">filter</span>(Age<span class="sc">==</span><span class="dv">33</span>)<span class="sc">%&gt;%</span></span>
<span id="cb5-263"><a href="#cb5-263"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">3</span>)  <span class="co">#me aparecía un jugador repetido y por eso lo elimino</span></span>
<span id="cb5-264"><a href="#cb5-264"></a></span>
<span id="cb5-265"><a href="#cb5-265"></a></span>
<span id="cb5-266"><a href="#cb5-266"></a>james <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/james.jpeg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb5-267"><a href="#cb5-267"></a>peña <span class="ot">&lt;-</span> <span class="fu">image_read</span>(<span class="st">"./imagenes/peñ.jpeg"</span>) <span class="sc">%&gt;%</span> <span class="fu">image_scale</span>(.,<span class="st">"700"</span>)</span>
<span id="cb5-268"><a href="#cb5-268"></a></span>
<span id="cb5-269"><a href="#cb5-269"></a>equipos <span class="ot">&lt;-</span> <span class="fu">c</span>(james, peña)</span>
<span id="cb5-270"><a href="#cb5-270"></a><span class="fu">image_animate</span>(<span class="fu">image_scale</span>(equipos), <span class="at">fps =</span> <span class="fl">0.25</span>)</span>
<span id="cb5-271"><a href="#cb5-271"></a><span class="in">```</span></span>
<span id="cb5-272"><a href="#cb5-272"></a></span>
<span id="cb5-273"><a href="#cb5-273"></a>------------------------------------------------------------------------</span>
<span id="cb5-274"><a href="#cb5-274"></a></span>
<span id="cb5-275"><a href="#cb5-275"></a></span>
<span id="cb5-276"><a href="#cb5-276"></a><span class="fu">## 4. PAISES</span></span>
<span id="cb5-277"><a href="#cb5-277"></a></span>
<span id="cb5-278"><a href="#cb5-278"></a>Por último, podemos ver que el Chelsea ha sido el equipo que más ha gastado, seguido del City, Real Madrid, FC Barcelona y Manchester United. Todos ellos equipos Ingleses y Españoles. Si hiceramos este estudio en los últimos 5 años probablemente viesemos desaparecer los equipos españoles y aparecer varios equipos de Oriente Medio.</span>
<span id="cb5-279"><a href="#cb5-279"></a></span>
<span id="cb5-280"><a href="#cb5-280"></a></span>
<span id="cb5-281"><a href="#cb5-281"></a></span>
<span id="cb5-284"><a href="#cb5-284"></a><span class="in">```{r}</span></span>
<span id="cb5-285"><a href="#cb5-285"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-286"><a href="#cb5-286"></a><span class="fu">library</span>(highcharter)  </span>
<span id="cb5-287"><a href="#cb5-287"></a></span>
<span id="cb5-288"><a href="#cb5-288"></a>datikos <span class="ot">&lt;-</span> <span class="st">"./datos/top250-00-19.csv"</span></span>
<span id="cb5-289"><a href="#cb5-289"></a></span>
<span id="cb5-290"><a href="#cb5-290"></a>df_completo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(datikos)</span>
<span id="cb5-291"><a href="#cb5-291"></a></span>
<span id="cb5-292"><a href="#cb5-292"></a>top_5_equipos <span class="ot">&lt;-</span> df_completo <span class="sc">%&gt;%</span></span>
<span id="cb5-293"><a href="#cb5-293"></a>  <span class="fu">group_by</span>(Team_to) <span class="sc">%&gt;%</span></span>
<span id="cb5-294"><a href="#cb5-294"></a>  <span class="fu">summarise</span>(<span class="at">gasto_total =</span> <span class="fu">sum</span>(Transfer_fee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-295"><a href="#cb5-295"></a>  <span class="fu">slice_max</span>(gasto_total, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb5-296"><a href="#cb5-296"></a></span>
<span id="cb5-297"><a href="#cb5-297"></a></span>
<span id="cb5-298"><a href="#cb5-298"></a></span>
<span id="cb5-299"><a href="#cb5-299"></a><span class="fu">hchart</span>(top_5_equipos, <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Team_to, <span class="at">y =</span> gasto_total)) <span class="sc">%&gt;%</span></span>
<span id="cb5-300"><a href="#cb5-300"></a>  <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_economist</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb5-301"><a href="#cb5-301"></a>  <span class="fu">hc_size</span>(<span class="at">height =</span> <span class="dv">500</span>)</span>
<span id="cb5-302"><a href="#cb5-302"></a><span class="in">```</span></span>
<span id="cb5-303"><a href="#cb5-303"></a></span>
<span id="cb5-304"><a href="#cb5-304"></a>------------------------------------------------------------------------</span>
<span id="cb5-305"><a href="#cb5-305"></a></span>
<span id="cb5-306"><a href="#cb5-306"></a></span>
<span id="cb5-307"><a href="#cb5-307"></a><span class="fu">## 5. CONCLUSION</span></span>
<span id="cb5-308"><a href="#cb5-308"></a></span>
<span id="cb5-309"><a href="#cb5-309"></a>Espero que haya sido de agrado leer este trabajo del mercado de fichajes y os haya ayudado a ver los cambios de tendencia entre el fútbol moderno y el de principios del siglo, aparte de poder haber conocido alguna curiosidad sobre este.</span>
</code><button title="Copiar al portapapeles" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2026 Simon Casañ</p>
</div>   
    <div class="nav-footer-center">
<p>Hecho con <a href="https://quarto.org">Quarto</a></p>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/simoncasan">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:<sicaol>@alumni.uv.es">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>